<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ArgroTecnologia</title>
  <link rel="stylesheet" href="index.css">
  <!-- Google Font: Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
</head>
<script>
  function actualizarHumedad() {
    fetch('http://localhost:5000/api/ultima-humedad')
      .then(res => res.json())
      .then(data => {
        // Si el backend responde con { humedad: 35.0 }
        if (data && typeof data.humedad !== "undefined") {
          document.getElementById('humedadActual').textContent = "Humedad " + data.humedad.toFixed(1) + "%";
        } else {
          document.getElementById('humedadActual').textContent = "Humedad --%";
        }
      })
      .catch(() => {
        document.getElementById('humedadActual').textContent = "Humedad --%";
      });
  }

  // Primera carga inmediata
  actualizarHumedad();
  // Luego cada 5 segundos
  setInterval(actualizarHumedad, 5000);
</script>

<body>

  <!-- Panel superior con tÃ­tulo y humedad -->
  <div class="panel-superior">
    <h1>ðŸŒ¿ Agricultura Inteligente</h1>
    <div class="humedad" id="humedadActual">Humedad --%</div>
  </div>

  <!-- Contenedor centrado de los botones -->
  <div class="contenido-central">
    <div class="botones-container">
      <button onclick="window.location.href='../monitoreo/monitoreo.html'">ðŸŒ± Ver Monitoreo</button>
      <button onclick="window.location.href='../tomaDecisiones/TomaDeDecisiones.html'">ðŸ’¹ Toma de Decisiones</button>

    </div>
  </div>

</body>

</html>